---
import Card from "../ui/Card.astro";
import IntegrationHeader from "./IntegrationHeader.astro";
import DisconnectedState from "./DisconnectedState.astro";

interface Props {
  integration: {
    id: string;
    name: string;
    icon: string;
    connected: boolean;
    accountName?: string;
    accountAvatar?: string;
    connectedAt?: string;
    scopes?: string[];
    selectedChannels?: string[];
  };
}

const { integration } = Astro.props;
---

<Card>
  <div class="card-content">
    <IntegrationHeader integration={integration} />
    {integration.connected ? (
      <span>Connected Stateが入る予定</span>
    ) : (
      <DisconnectedState integrationName={integration.name} integrationId={integration.id} />
    )}
  </div>
</Card>

<style>
  .card-content {
    /* Cardコンポーネントのpaddingを考慮しつつ、内部でレイアウトを調整 */
  }
</style>
